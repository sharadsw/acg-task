(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{38:function(e,n,t){"use strict";t.r(n);var c=t(4),a=t(0),l=t(2),s=t.n(l),i=t(14),r=t.n(i),d=(t(20),function(e){var n=e.fname,t=e.lname,c=e.handleFname,l=e.handleLname,s=e.handleSubmit,i=e.handleCancel;return Object(a.jsxs)("div",{className:"container m-6",children:[Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("label",{className:"label",children:"First Name"}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("input",{className:"input",type:"text",value:n,onChange:c})})]}),Object(a.jsxs)("div",{className:"field",children:[Object(a.jsx)("label",{className:"label",children:"Last Name"}),Object(a.jsx)("div",{className:"control",children:Object(a.jsx)("input",{className:"input",type:"text",value:t,onChange:l})})]}),Object(a.jsxs)("div",{className:"field is-grouped",children:[Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("button",{className:"button is-primary",onClick:s,children:"Save"})}),Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("button",{className:"button is-light",onClick:i,children:"Clear"})})]})]})}),j=function(e){var n=e.fname,t=e.lname,c=e.handleSelect,l=e.handleDelete;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:n}),Object(a.jsx)("td",{children:t}),Object(a.jsx)("td",{children:Object(a.jsxs)("div",{className:"field is-grouped",children:[Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("button",{className:"button is-link",onClick:c,children:"Select"})}),Object(a.jsx)("p",{className:"control",children:Object(a.jsx)("button",{className:"button is-link is-light",onClick:l,children:"Delete"})})]})})]})},o=function(e){var n=e.persons,t=e.handleSelect,c=e.handleDelete;return Object(a.jsx)("div",{className:"container m-6",children:Object(a.jsxs)("table",{className:"table is-fullwidth",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"First Name"}),Object(a.jsx)("th",{children:"Last Name"}),Object(a.jsx)("th",{children:"Options"})]})}),Object(a.jsx)("tbody",{children:n.map((function(e){return Object(a.jsx)(j,{fname:e.fname,lname:e.lname,handleSelect:function(){return t(e)},handleDelete:function(){return c(e)}},e.id)}))})]})})},u=t(3),h=t.n(u),b="/api/persons",m=function(){return h.a.get(b).then((function(e){return e.data}))},O=function(e){return h.a.post(b,e).then((function(e){return e.data}))},f=function(e,n){return h.a.put("".concat(b,"/").concat(e),n).then((function(e){return e.data}))},x=function(e){return h.a.delete("".concat(b,"/").concat(e)).then((function(e){return e.data}))},p=function(){var e=Object(l.useState)([]),n=Object(c.a)(e,2),t=n[0],s=n[1],i=Object(l.useState)(""),r=Object(c.a)(i,2),j=r[0],u=r[1],h=Object(l.useState)(""),b=Object(c.a)(h,2),p=b[0],N=b[1],v=Object(l.useState)(null),S=Object(c.a)(v,2),g=S[0],C=S[1];Object(l.useEffect)((function(){m().then((function(e){s(e)}))}),[]);var k=function(){u(""),N(""),C(null)};return Object(a.jsxs)("div",{className:"columns",children:[Object(a.jsx)("div",{className:"column",children:Object(a.jsx)(d,{fname:j,lname:p,handleFname:function(e){u(e.target.value)},handleLname:function(e){N(e.target.value)},handleSubmit:function(e){if(""!==j&&""!==p){var n={fname:j,lname:p};g?(f(g,n).then((function(e){s(t.map((function(n){return n.id===e.id?e:n})))})).catch((function(e){alert("This person has already been deleted from the database")})),k()):O(n).then((function(e){s(t.concat(e)),k()}))}else window.alert("First name or last name cannot be empty")},handleCancel:function(e){k()}})}),Object(a.jsx)("div",{className:"column",children:Object(a.jsx)(o,{persons:t,handleSelect:function(e){u(e.fname),N(e.lname),C(e.id)},handleDelete:function(e){x(e.id).then((function(n){s(t.filter((function(n){return n.id!==e.id})))}))}})})]})};r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(p,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.6f55e738.chunk.js.map